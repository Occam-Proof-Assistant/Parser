'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TerminalNode = require('../common/node/terminal'),
    NonTerminalNode = require('../common/node/nonTerminal');

var nodeUtil = function () {
  function nodeUtil() {
    _classCallCheck(this, nodeUtil);
  }

  _createClass(nodeUtil, null, [{
    key: 'isNodeTerminalNode',
    value: function isNodeTerminalNode(node) {
      var nodeTerminalNode = node instanceof TerminalNode;

      return nodeTerminalNode;
    }
  }, {
    key: 'isNodeNonTerminalNode',
    value: function isNodeNonTerminalNode(node) {
      var nodeNonTerminalNode = node instanceof NonTerminalNode;

      return nodeNonTerminalNode;
    }
  }, {
    key: 'isNodeNoWhitespaceNode',
    value: function isNodeNoWhitespaceNode(node) {
      var nodeNoWhitespaceNode = false;

      var nodeTerminalNode = nodeUtil.isNodeTerminalNode(node);

      if (nodeTerminalNode) {
        var terminalNode = node,
            terminalNodeContent = terminalNode.getContent();

        nodeNoWhitespaceNode = terminalNodeContent === "<NO_WHITESPACE>"; ///
      }

      return nodeNoWhitespaceNode;
    }
  }, {
    key: 'quantifiersFromQuantifiersNode',
    value: function quantifiersFromQuantifiersNode(quantifiersNode) {
      var quantifiers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

      var quantifier = quantifierFromQuantifiersNode(quantifiersNode);

      quantifiers.push(quantifier);

      var quantifiersNodeChildNodes = quantifiersNode.getChildNodes(),
          quantifiersNodeChildNodesLength = quantifiersNodeChildNodes.length;

      if (quantifiersNodeChildNodesLength === 2) {
        var secondQuantifiersNodeChildNode = second(quantifiersNodeChildNodes);

        quantifiersNode = secondQuantifiersNodeChildNode; ///

        quantifiers = nodeUtil.quantifiersFromQuantifiersNode(quantifiersNode, quantifiers);
      }

      return quantifiers;
    }
  }, {
    key: 'sequenceOfPartsPartFromNodeAndQuantifiersNode',
    value: function sequenceOfPartsPartFromNodeAndQuantifiersNode(node, quantifiersNode, Parts, noWhitespace) {
      var part = node.generatePart(Parts, noWhitespace),
          quantifiers = nodeUtil.quantifiersFromQuantifiersNode(quantifiersNode),
          sequenceOfPartsPart = sequenceOfPartsPartFromPartAndQuantifiers(part, quantifiers, Parts);

      return sequenceOfPartsPart;
    }
  }]);

  return nodeUtil;
}();

module.exports = nodeUtil;

function quantifierFromQuantifiersNode(quantifiersNode) {
  var quantifiersNodeChildNodes = quantifiersNode.getChildNodes(),
      firstQuantifiersNodeChildNode = first(quantifiersNodeChildNodes),
      firstQuantifiersNodeChildNodeContent = firstQuantifiersNodeChildNode.getContent(),
      quantifier = firstQuantifiersNodeChildNodeContent;

  return quantifier;
}

function sequenceOfPartsPartFromPartAndQuantifiers(part, quantifiers, Parts) {
  var quantifier = quantifiers.shift(),
      quantifiersLength = quantifiers.length;

  var sequenceOfPartsPart = sequenceOfPartsPartFromPartAndQuantifier(part, quantifier, Parts);

  if (quantifiersLength > 0) {
    part = sequenceOfPartsPart; ///

    sequenceOfPartsPart = sequenceOfPartsPartFromPartAndQuantifiers(part, quantifiers, Parts);
  }

  return sequenceOfPartsPart;
}

function sequenceOfPartsPartFromPartAndQuantifier(part, quantifier, Parts) {
  var sequenceOfPartsPart = void 0;

  switch (quantifier) {
    case '?':
      var OptionalPartPart = Parts['OptionalPartPart'],
          optionalPartPart = new OptionalPartPart(part);

      sequenceOfPartsPart = optionalPartPart;
      break;

    case '*':
      var ZeroOrMorePartsPart = Parts['ZeroOrMorePartsPart'],
          zeroOrMorePartsPart = new ZeroOrMorePartsPart(part);

      sequenceOfPartsPart = zeroOrMorePartsPart;
      break;

    case '+':
      var OneOrMorePartsPart = Parts['OneOrMorePartsPart'],
          oneOrMorePartsPart = new OneOrMorePartsPart(part);

      sequenceOfPartsPart = oneOrMorePartsPart;
      break;
  }

  return sequenceOfPartsPart;
}

function first(array) {
  return array[0];
}

function second(array) {
  return array[1];
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsL25vZGUuanMiXSwibmFtZXMiOlsiVGVybWluYWxOb2RlIiwicmVxdWlyZSIsIk5vblRlcm1pbmFsTm9kZSIsIm5vZGVVdGlsIiwibm9kZSIsIm5vZGVUZXJtaW5hbE5vZGUiLCJub2RlTm9uVGVybWluYWxOb2RlIiwibm9kZU5vV2hpdGVzcGFjZU5vZGUiLCJpc05vZGVUZXJtaW5hbE5vZGUiLCJ0ZXJtaW5hbE5vZGUiLCJ0ZXJtaW5hbE5vZGVDb250ZW50IiwiZ2V0Q29udGVudCIsInF1YW50aWZpZXJzTm9kZSIsInF1YW50aWZpZXJzIiwicXVhbnRpZmllciIsInF1YW50aWZpZXJGcm9tUXVhbnRpZmllcnNOb2RlIiwicHVzaCIsInF1YW50aWZpZXJzTm9kZUNoaWxkTm9kZXMiLCJnZXRDaGlsZE5vZGVzIiwicXVhbnRpZmllcnNOb2RlQ2hpbGROb2Rlc0xlbmd0aCIsImxlbmd0aCIsInNlY29uZFF1YW50aWZpZXJzTm9kZUNoaWxkTm9kZSIsInNlY29uZCIsInF1YW50aWZpZXJzRnJvbVF1YW50aWZpZXJzTm9kZSIsIlBhcnRzIiwibm9XaGl0ZXNwYWNlIiwicGFydCIsImdlbmVyYXRlUGFydCIsInNlcXVlbmNlT2ZQYXJ0c1BhcnQiLCJzZXF1ZW5jZU9mUGFydHNQYXJ0RnJvbVBhcnRBbmRRdWFudGlmaWVycyIsIm1vZHVsZSIsImV4cG9ydHMiLCJmaXJzdFF1YW50aWZpZXJzTm9kZUNoaWxkTm9kZSIsImZpcnN0IiwiZmlyc3RRdWFudGlmaWVyc05vZGVDaGlsZE5vZGVDb250ZW50Iiwic2hpZnQiLCJxdWFudGlmaWVyc0xlbmd0aCIsInNlcXVlbmNlT2ZQYXJ0c1BhcnRGcm9tUGFydEFuZFF1YW50aWZpZXIiLCJPcHRpb25hbFBhcnRQYXJ0Iiwib3B0aW9uYWxQYXJ0UGFydCIsIlplcm9Pck1vcmVQYXJ0c1BhcnQiLCJ6ZXJvT3JNb3JlUGFydHNQYXJ0IiwiT25lT3JNb3JlUGFydHNQYXJ0Iiwib25lT3JNb3JlUGFydHNQ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QUFKOztBQUVBLFVBQVFkLFVBQVI7QUFDRSxTQUFLLEdBQUw7QUFDRSxVQUFNd0IsbUJBQW1CZCxNQUFNLGtCQUFOLENBQXpCO0FBQUEsVUFDSWUsbUJBQW1CLElBQUlELGdCQUFKLENBQXFCWixJQUFyQixDQUR2Qjs7QUFHQUUsNEJBQXNCVyxnQkFBdEI7QUFDQTs7QUFFRixTQUFLLEdBQUw7QUFDRSxVQUFNQyxzQkFBc0JoQixNQUFNLHFCQUFOLENBQTVCO0FBQUEsVUFDSWlCLHNCQUFzQixJQUFJRCxtQkFBSixDQUF3QmQsSUFBeEIsQ0FEMUI7O0FBR0FFLDRCQUFzQmEsbUJBQXRCO0FBQ0E7O0FBRUYsU0FBSyxHQUFMO0FBQ0UsVUFBTUMscUJBQXFCbEIsTUFBTSxvQkFBTixDQUEzQjtBQUFBLFVBQ0ltQixxQkFBcUIsSUFBSUQsa0JBQUosQ0FBdUJoQixJQUF2QixDQUR6Qjs7QUFHQUUsNEJBQXNCZSxrQkFBdEI7QUFDQTtBQXBCSjs7QUF1QkEsU0FBT2YsbUJBQVA7QUFDRDs7QUFFRCxTQUFTSyxLQUFULENBQWVXLEtBQWYsRUFBc0I7QUFBRSxTQUFPQSxNQUFNLENBQU4sQ0FBUDtBQUFrQjs7QUFFMUMsU0FBU3RCLE1BQVQsQ0FBZ0JzQixLQUFoQixFQUF1QjtBQUFFLFNBQU9BLE1BQU0sQ0FBTixDQUFQO0FBQWtCIiwiZmlsZSI6Im5vZGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFRlcm1pbmFsTm9kZSA9IHJlcXVpcmUoJy4uL2NvbW1vbi9ub2RlL3Rlcm1pbmFsJyksXG4gICAgICBOb25UZXJtaW5hbE5vZGUgPSByZXF1aXJlKCcuLi9jb21tb24vbm9kZS9ub25UZXJtaW5hbCcpO1xuXG5jbGFzcyBub2RlVXRpbCB7XG4gIHN0YXRpYyBpc05vZGVUZXJtaW5hbE5vZGUobm9kZSkge1xuICAgIGNvbnN0IG5vZGVUZXJtaW5hbE5vZGUgPSAobm9kZSBpbnN0YW5jZW9mIFRlcm1pbmFsTm9kZSk7XG5cbiAgICByZXR1cm4gbm9kZVRlcm1pbmFsTm9kZTtcbiAgfVxuXG4gIHN0YXRpYyBpc05vZGVOb25UZXJtaW5hbE5vZGUobm9kZSkge1xuICAgIGNvbnN0IG5vZGVOb25UZXJtaW5hbE5vZGUgPSAobm9kZSBpbnN0YW5jZW9mIE5vblRlcm1pbmFsTm9kZSk7XG5cbiAgICByZXR1cm4gbm9kZU5vblRlcm1pbmFsTm9kZTtcbiAgfVxuXG4gIHN0YXRpYyBpc05vZGVOb1doaXRlc3BhY2VOb2RlKG5vZGUpIHtcbiAgICBsZXQgbm9kZU5vV2hpdGVzcGFjZU5vZGUgPSBmYWxzZTtcbiAgXG4gICAgY29uc3Qgbm9kZVRlcm1pbmFsTm9kZSA9IG5vZGVVdGlsLmlzTm9kZVRlcm1pbmFsTm9kZShub2RlKTtcbiAgXG4gICAgaWYgKG5vZGVUZXJtaW5hbE5vZGUpIHtcbiAgICAgIGNvbnN0IHRlcm1pbmFsTm9kZSA9IG5vZGUsXG4gICAgICAgICAgICB0ZXJtaW5hbE5vZGVDb250ZW50ID0gdGVybWluYWxOb2RlLmdldENvbnRlbnQoKTtcbiAgXG4gICAgICBub2RlTm9XaGl0ZXNwYWNlTm9kZSA9ICh0ZXJtaW5hbE5vZGVDb250ZW50ID09PSBcIjxOT19XSElURVNQQUNFPlwiKTsgLy8vXG4gICAgfVxuICBcbiAgICByZXR1cm4gbm9kZU5vV2hpdGVzcGFjZU5vZGU7XG4gIH1cbiAgXG4gIHN0YXRpYyBxdWFudGlmaWVyc0Zyb21RdWFudGlmaWVyc05vZGUocXVhbnRpZmllcnNOb2RlLCBxdWFudGlmaWVycyA9IFtdKSB7XG4gICAgY29uc3QgcXVhbnRpZmllciA9IHF1YW50aWZpZXJGcm9tUXVhbnRpZmllcnNOb2RlKHF1YW50aWZpZXJzTm9kZSk7XG5cbiAgICBxdWFudGlmaWVycy5wdXNoKHF1YW50aWZpZXIpO1xuXG4gICAgY29uc3QgcXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlcyA9IHF1YW50aWZpZXJzTm9kZS5nZXRDaGlsZE5vZGVzKCksXG4gICAgICAgICAgcXVhbnRpZmllcnNOb2RlQ2hpbGROb2Rlc0xlbmd0aCA9ICBxdWFudGlmaWVyc05vZGVDaGlsZE5vZGVzLmxlbmd0aDtcblxuICAgIGlmIChxdWFudGlmaWVyc05vZGVDaGlsZE5vZGVzTGVuZ3RoID09PSAyKSB7XG4gICAgICBjb25zdCBzZWNvbmRRdWFudGlmaWVyc05vZGVDaGlsZE5vZGUgPSBzZWNvbmQocXVhbnRpZmllcnNOb2RlQ2hpbGROb2Rlcyk7XG5cbiAgICAgIHF1YW50aWZpZXJzTm9kZSA9IHNlY29uZFF1YW50aWZpZXJzTm9kZUNoaWxkTm9kZTsgLy8vXG5cbiAgICAgIHF1YW50aWZpZXJzID0gbm9kZVV0aWwucXVhbnRpZmllcnNGcm9tUXVhbnRpZmllcnNOb2RlKHF1YW50aWZpZXJzTm9kZSwgcXVhbnRpZmllcnMpO1xuICAgIH1cblxuICAgIHJldHVybiBxdWFudGlmaWVycztcbiAgfVxuXG4gIHN0YXRpYyBzZXF1ZW5jZU9mUGFydHNQYXJ0RnJvbU5vZGVBbmRRdWFudGlmaWVyc05vZGUobm9kZSwgcXVhbnRpZmllcnNOb2RlLCBQYXJ0cywgbm9XaGl0ZXNwYWNlKSB7XG4gICAgY29uc3QgcGFydCA9IG5vZGUuZ2VuZXJhdGVQYXJ0KFBhcnRzLCBub1doaXRlc3BhY2UpLFxuICAgICAgICAgIHF1YW50aWZpZXJzID0gbm9kZVV0aWwucXVhbnRpZmllcnNGcm9tUXVhbnRpZmllcnNOb2RlKHF1YW50aWZpZXJzTm9kZSksXG4gICAgICAgICAgc2VxdWVuY2VPZlBhcnRzUGFydCA9IHNlcXVlbmNlT2ZQYXJ0c1BhcnRGcm9tUGFydEFuZFF1YW50aWZpZXJzKHBhcnQsIHF1YW50aWZpZXJzLCBQYXJ0cyk7XG5cbiAgICByZXR1cm4gc2VxdWVuY2VPZlBhcnRzUGFydDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5vZGVVdGlsO1xuXG5mdW5jdGlvbiBxdWFudGlmaWVyRnJvbVF1YW50aWZpZXJzTm9kZShxdWFudGlmaWVyc05vZGUpIHtcbiAgY29uc3QgcXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlcyA9IHF1YW50aWZpZXJzTm9kZS5nZXRDaGlsZE5vZGVzKCksXG4gICAgICAgIGZpcnN0UXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlID0gZmlyc3QocXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlcyksXG4gICAgICAgIGZpcnN0UXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlQ29udGVudCA9IGZpcnN0UXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlLmdldENvbnRlbnQoKSxcbiAgICAgICAgcXVhbnRpZmllciA9IGZpcnN0UXVhbnRpZmllcnNOb2RlQ2hpbGROb2RlQ29udGVudDtcblxuICByZXR1cm4gcXVhbnRpZmllcjtcbn1cblxuZnVuY3Rpb24gc2VxdWVuY2VPZlBhcnRzUGFydEZyb21QYXJ0QW5kUXVhbnRpZmllcnMocGFydCwgcXVhbnRpZmllcnMsIFBhcnRzKSB7XG4gIGNvbnN0IHF1YW50aWZpZXIgPSBxdWFudGlmaWVycy5zaGlmdCgpLFxuICAgICAgICBxdWFudGlmaWVyc0xlbmd0aCA9IHF1YW50aWZpZXJzLmxlbmd0aDtcblxuICBsZXQgc2VxdWVuY2VPZlBhcnRzUGFydCA9IHNlcXVlbmNlT2ZQYXJ0c1BhcnRGcm9tUGFydEFuZFF1YW50aWZpZXIocGFydCwgcXVhbnRpZmllciwgUGFydHMpO1xuXG4gIGlmIChxdWFudGlmaWVyc0xlbmd0aCA+IDApIHtcbiAgICBwYXJ0ID0gc2VxdWVuY2VPZlBhcnRzUGFydDsgLy8vXG5cbiAgICBzZXF1ZW5jZU9mUGFydHNQYXJ0ID0gc2VxdWVuY2VPZlBhcnRzUGFydEZyb21QYXJ0QW5kUXVhbnRpZmllcnMocGFydCwgcXVhbnRpZmllcnMsIFBhcnRzKTtcbiAgfVxuXG4gIHJldHVybiBzZXF1ZW5jZU9mUGFydHNQYXJ0O1xufVxuXG5mdW5jdGlvbiBzZXF1ZW5jZU9mUGFydHNQYXJ0RnJvbVBhcnRBbmRRdWFudGlmaWVyKHBhcnQsIHF1YW50aWZpZXIsIFBhcnRzKSB7XG4gIGxldCBzZXF1ZW5jZU9mUGFydHNQYXJ0O1xuXG4gIHN3aXRjaCAocXVhbnRpZmllcikge1xuICAgIGNhc2UgJz8nOlxuICAgICAgY29uc3QgT3B0aW9uYWxQYXJ0UGFydCA9IFBhcnRzWydPcHRpb25hbFBhcnRQYXJ0J10sXG4gICAgICAgICAgb3B0aW9uYWxQYXJ0UGFydCA9IG5ldyBPcHRpb25hbFBhcnRQYXJ0KHBhcnQpO1xuXG4gICAgICBzZXF1ZW5jZU9mUGFydHNQYXJ0ID0gb3B0aW9uYWxQYXJ0UGFydDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnKic6XG4gICAgICBjb25zdCBaZXJvT3JNb3JlUGFydHNQYXJ0ID0gUGFydHNbJ1plcm9Pck1vcmVQYXJ0c1BhcnQnXSxcbiAgICAgICAgICB6ZXJvT3JNb3JlUGFydHNQYXJ0ID0gbmV3IFplcm9Pck1vcmVQYXJ0c1BhcnQocGFydCk7XG5cbiAgICAgIHNlcXVlbmNlT2ZQYXJ0c1BhcnQgPSB6ZXJvT3JNb3JlUGFydHNQYXJ0O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcrJzpcbiAgICAgIGNvbnN0IE9uZU9yTW9yZVBhcnRzUGFydCA9IFBhcnRzWydPbmVPck1vcmVQYXJ0c1BhcnQnXSxcbiAgICAgICAgICBvbmVPck1vcmVQYXJ0c1BhcnQgPSBuZXcgT25lT3JNb3JlUGFydHNQYXJ0KHBhcnQpO1xuXG4gICAgICBzZXF1ZW5jZU9mUGFydHNQYXJ0ID0gb25lT3JNb3JlUGFydHNQYXJ0O1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gc2VxdWVuY2VPZlBhcnRzUGFydDtcbn1cblxuZnVuY3Rpb24gZmlyc3QoYXJyYXkpIHsgcmV0dXJuIGFycmF5WzBdOyB9XG5cbmZ1bmN0aW9uIHNlY29uZChhcnJheSkgeyByZXR1cm4gYXJyYXlbMV07IH1cbiJdfQ==